Metadata-Version: 2.4
Name: s2t
Version: 0.1.0
Summary: Speech-to-Text tool using whisper.cpp
Requires-Python: >=3.12
Description-Content-Type: text/markdown
Requires-Dist: pywhispercpp>=1.3.0
Requires-Dist: pyaudio>=0.2.11
Requires-Dist: setuptools>=61.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0; extra == "dev"

# s2t - Speech-to-Text Tool

A lightweight CLI tool for real-time speech-to-text transcription using [Whisper.cpp](https://github.com/ggerganov/whisper.cpp).

## Features

- **Real-time transcription**: Record audio and transcribe using OpenAI's Whisper model
- **Multiple input modes**: Push-to-talk (default) or Enter-key activation
- **Output options**: Print to stdout, send to tmux, or type at cursor with wtype
- **Model fallback**: Automatically tries 'small' model, falls back to 'tiny' if unavailable
- **Clean error handling**: Comprehensive logging for debugging

## Requirements

- Python >= 3.12
- [pywhispercpp](https://github.com/aarnphm/pywhispercpp) >= 1.3.0
- [pyaudio](https://people.csail.mit.edu/hubert/pyaudio/) >= 0.2.11

## Installation

```bash
pip install -e .
```

Or with UV (recommended):

```bash
uv pip install -e .
```

## Usage

### Basic Usage (Push-to-Talk Mode)

```bash
s2t
```

Press Ctrl+C to stop recording and transcribe.

### Enter-Key Mode

```bash
s2t --enter
```

Press Enter to start/stop recording.

### Send to Tmux Session

```bash
s2t --tmux SESSION_NAME
```

Transcription will be sent as command input to the specified tmux session.

### Type at Cursor

```bash
s2t --type
```

Requires `wtype` to be installed. Transcription will be typed at the cursor location.

### Combined Options

```bash
s2t --enter --tmux mywindow --type
```

## Options

- `--enter`: Use Enter key for start/stop (instead of push-to-talk)
- `--tmux SESSION, -t SESSION`: Send transcription to tmux session
- `--type`: Type transcription at cursor using wtype

## Troubleshooting

- **Model download errors**: Whisper model files will be downloaded automatically on first run (may take a moment)
- **Audio input issues**: Ensure your audio device is properly configured
- **Permission errors**: May need to install system audio libraries (check pyaudio documentation)

## Development

Run tests:
```bash
make test
```

## License

MIT
